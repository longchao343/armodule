<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TrifocalTensor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacealvar.html">alvar</a>::<a class="el" href="classalvar_1_1_trifocal_tensor.html">TrifocalTensor</a>
  </div>
</div>
<div class="contents">
<h1>TrifocalTensor Class Reference</h1><!-- doxytag: class="alvar::TrifocalTensor" -->
<p>Trifocal tensor works for three images like a fundamental matrix works for two images.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_trifocal_tensor_8h_source.html">TrifocalTensor.h</a>&gt;</code></p>

<p><a href="classalvar_1_1_trifocal_tensor-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_trifocal_tensor.html#ab54677b07d2d26e13d07be3eaa09d654">TrifocalTensor</a> (const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;P1, const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;P2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs a tensor from identity pose and two other known poses. See <em>computeTensor</em>.  <a href="#ab54677b07d2d26e13d07be3eaa09d654"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_trifocal_tensor.html#a7d6c4ebedf08fe157e23412a5616a8ef">TrifocalTensor</a> (const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;P0, const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;P1, const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;P2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs a tensor from three known poses. See <em>computeTensor</em>.  <a href="#a7d6c4ebedf08fe157e23412a5616a8ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_trifocal_tensor.html#a290a5032456619cabc4ec8bbb43503b6">computeTensor</a> (const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;P1, const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;P2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the tensor from identity pose and two other known poses.  <a href="#a290a5032456619cabc4ec8bbb43503b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_trifocal_tensor.html#ad8168e9b18c1274e02f06665684e40ec">computeTensor</a> (const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;P0, const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;P1, const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;P2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the tensor from three known poses.  <a href="#ad8168e9b18c1274e02f06665684e40ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_trifocal_tensor.html#af302525f60afc4b1133a099baad5425f">project</a> (const CvPoint2D64f &amp;p0, const CvPoint2D64f &amp;p1, CvPoint2D64f &amp;p2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the projection of a point in the third pose.  <a href="#af302525f60afc4b1133a099baad5425f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_trifocal_tensor.html#a600e833d764e3a71de5199a5b336139e">projectError</a> (const CvPoint2D64f &amp;p0, const CvPoint2D64f &amp;p1, const CvPoint2D64f &amp;p2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes how much three points differ from the tensor.  <a href="#a600e833d764e3a71de5199a5b336139e"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Trifocal tensor works for three images like a fundamental matrix works for two images. </p>
<p>Given three camera poses P0, P1, P2 and a 3D point X, we can calculate a trifocal tensor T(P0, P1, P2). The tensor relates projections of X in P0, P1 and P2 in such a way that when any two projections are known the third projection can be calculated.</p>
<p>This implementation of trifocal tensor assumes that the camera poses P0, P1 and P2 are known. When projections of X in P0 and P1 are known the projection in P2 can be computed using the tensor.</p>
<p>The current implementation cannot be used to directly compute the tensor from point correspondencies alone. The implementation can be used for example for optimizing three camera poses when point correspondences are known in the three images by minimizing the trifocal 'projection error' computed by <em>projectError</em> -method.</p>
<div class="fragment"><pre class="fragment">   Pose P1, P2; <span class="comment">// P0 is identity pose.</span>
   CvPoint2D64f proj0, proj1, proj2; <span class="comment">// A 3D point projected with poses P0, P1 and P2.</span>

   TrifocalTensor T(P1, P2);
   CvPoint2D64f test2;
   T.project(proj0, proj1, test2);
   assert(proj2.x == test2.x);
   assert(proj2.y == test2.y);
   assert(proj2.z == test2.z);
</pre></div> 
<p>Definition at line <a class="el" href="_trifocal_tensor_8h_source.html#l00070">70</a> of file <a class="el" href="_trifocal_tensor_8h_source.html">TrifocalTensor.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab54677b07d2d26e13d07be3eaa09d654"></a><!-- doxytag: member="alvar::TrifocalTensor::TrifocalTensor" ref="ab54677b07d2d26e13d07be3eaa09d654" args="(const Pose &amp;P1, const Pose &amp;P2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classalvar_1_1_trifocal_tensor.html">TrifocalTensor</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>P1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>P2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructs a tensor from identity pose and two other known poses. See <em>computeTensor</em>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>P1</em>&nbsp;</td><td>The second pose relative to the first pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>P2</em>&nbsp;</td><td>The third pose relative to the first pose. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7d6c4ebedf08fe157e23412a5616a8ef"></a><!-- doxytag: member="alvar::TrifocalTensor::TrifocalTensor" ref="a7d6c4ebedf08fe157e23412a5616a8ef" args="(const Pose &amp;P0, const Pose &amp;P1, const Pose &amp;P2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classalvar_1_1_trifocal_tensor.html">TrifocalTensor</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>P0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>P1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>P2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructs a tensor from three known poses. See <em>computeTensor</em>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>P0</em>&nbsp;</td><td>The first camera pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>P1</em>&nbsp;</td><td>The second pose relative to the first pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>P2</em>&nbsp;</td><td>The third pose relative to the first pose. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad8168e9b18c1274e02f06665684e40ec"></a><!-- doxytag: member="alvar::TrifocalTensor::computeTensor" ref="ad8168e9b18c1274e02f06665684e40ec" args="(const Pose &amp;P0, const Pose &amp;P1, const Pose &amp;P2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void computeTensor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>P0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>P1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>P2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the tensor from three known poses. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>P0</em>&nbsp;</td><td>The first camera pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>P1</em>&nbsp;</td><td>The second pose relative to the first pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>P2</em>&nbsp;</td><td>The third pose relative to the first pose. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a290a5032456619cabc4ec8bbb43503b6"></a><!-- doxytag: member="alvar::TrifocalTensor::computeTensor" ref="a290a5032456619cabc4ec8bbb43503b6" args="(const Pose &amp;P1, const Pose &amp;P2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void computeTensor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>P1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classalvar_1_1_pose.html">Pose</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>P2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the tensor from identity pose and two other known poses. </p>
<p>The first pose is identity and the two other poses are relative translations/rotation between the first and the second pose and between the first and the third pose.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>P1</em>&nbsp;</td><td>The second pose relative to the first pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>P2</em>&nbsp;</td><td>The third pose relative to the first pose. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af302525f60afc4b1133a099baad5425f"></a><!-- doxytag: member="alvar::TrifocalTensor::project" ref="af302525f60afc4b1133a099baad5425f" args="(const CvPoint2D64f &amp;p0, const CvPoint2D64f &amp;p1, CvPoint2D64f &amp;p2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void project </td>
          <td>(</td>
          <td class="paramtype">const CvPoint2D64f &amp;&nbsp;</td>
          <td class="paramname"> <em>p0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CvPoint2D64f &amp;&nbsp;</td>
          <td class="paramname"> <em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CvPoint2D64f &amp;&nbsp;</td>
          <td class="paramname"> <em>p2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes the projection of a point in the third pose. </p>
<p>When we have three images, each a projection of a scene from the three different camera poses (identity and the two poses that were used to initialize the tensor) and a 2D point correspondence between the first and the second images, a position in the third image is computed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p0</em>&nbsp;</td><td>2D position in a image projected from the first pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p1</em>&nbsp;</td><td>2D position in a image projected from the second pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p2</em>&nbsp;</td><td>Computed 2D position in a image projected form the third pose. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a600e833d764e3a71de5199a5b336139e"></a><!-- doxytag: member="alvar::TrifocalTensor::projectError" ref="a600e833d764e3a71de5199a5b336139e" args="(const CvPoint2D64f &amp;p0, const CvPoint2D64f &amp;p1, const CvPoint2D64f &amp;p2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double projectError </td>
          <td>(</td>
          <td class="paramtype">const CvPoint2D64f &amp;&nbsp;</td>
          <td class="paramname"> <em>p0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CvPoint2D64f &amp;&nbsp;</td>
          <td class="paramname"> <em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CvPoint2D64f &amp;&nbsp;</td>
          <td class="paramname"> <em>p2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes how much three points differ from the tensor. </p>
<p>When we have three images, each a projection of a scene from the three different camera poses (identity and the two poses that were used to initialize the tensor) and a 2D point correspondence between the first the second and the third images, we compute how well the three projections match with the trifocal tensor.</p>
<p>When the third point lies exactly where the tensor projects the first two points, the returned error is zero.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p0</em>&nbsp;</td><td>2D position in a image projected from the first pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p1</em>&nbsp;</td><td>2D position in a image projected from the second pose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p2</em>&nbsp;</td><td>2D position in a image projected form the third pose. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Squared projection error. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_trifocal_tensor_8h_source.html">TrifocalTensor.h</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue May 29 18:20:30 2012 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
