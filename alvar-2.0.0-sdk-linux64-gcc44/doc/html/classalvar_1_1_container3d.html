<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Container3d&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacealvar.html">alvar</a>::<a class="el" href="classalvar_1_1_container3d.html">Container3d</a>
  </div>
</div>
<div class="contents">
<h1>Container3d&lt; T &gt; Class Template Reference</h1><!-- doxytag: class="alvar::Container3d" -->
<p>Generic container to store any information in 3D (features, photos, ...).  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_container3d_8h_source.html">Container3d.h</a>&gt;</code></p>

<p><a href="classalvar_1_1_container3d-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d_1_1_iterator.html">Iterator</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classalvar_1_1_container3d_1_1_iterator.html" title="Iterator for going through the items in Container3d in the specified order.">Iterator</a> for going through the items in <em><a class="el" href="classalvar_1_1_container3d.html" title="Generic container to store any information in 3D (features, photos, ...).">Container3d</a></em> in the specified order.  <a href="classalvar_1_1_container3d_1_1_iterator.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c256c1313be873da17a68f968d00e11"></a><!-- doxytag: member="alvar::Container3d::node_type" ref="a0c256c1313be873da17a68f968d00e11" args="" -->
typedef std::pair<br class="typebreak"/>
&lt; CvPoint3D32f, T &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a0c256c1313be873da17a68f968d00e11">node_type</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><em>node_type</em> for storing data. 3D-position is paired with the data content. <br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a0094fc4a1439b06d47a669e87b5a50"></a><!-- doxytag: member="alvar::Container3d::Add" ref="a7a0094fc4a1439b06d47a669e87b5a50" args="(const CvPoint3D32f &amp;_pos, const T &amp;_data)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a7a0094fc4a1439b06d47a669e87b5a50">Add</a> (const CvPoint3D32f &amp;_pos, const T &amp;_data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add <em>_data</em> in the container and associate it with 3D position <em>_pos</em>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa71d36872f416feaa853788a7a7a7ef8"></a><!-- doxytag: member="alvar::Container3d::Clear" ref="aa71d36872f416feaa853788a7a7a7ef8" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#aa71d36872f416feaa853788a7a7a7ef8">Clear</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear the container. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e401ed0d40cb96458d9aef7926a08e9"></a><!-- doxytag: member="alvar::Container3d::ResetSearchSpace" ref="a8e401ed0d40cb96458d9aef7926a08e9" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a8e401ed0d40cb96458d9aef7926a08e9">ResetSearchSpace</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the search space to contain whole data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aecb4d6b50ef9d7b549a48be23451c698"></a><!-- doxytag: member="alvar::Container3d::Erase" ref="aecb4d6b50ef9d7b549a48be23451c698" args="(size_t index)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#aecb4d6b50ef9d7b549a48be23451c698">Erase</a> (size_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase item in the container. <br/></td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a41b5aecbac7e175890491df508f77a53"></a><!-- doxytag: member="alvar::Container3d::Sort" ref="a41b5aecbac7e175890491df508f77a53" args="(Compare comp)" -->
template&lt;typename Compare &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">int&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a41b5aecbac7e175890491df508f77a53">Sort</a> (Compare comp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sort using external Compare method. <br/></td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a826226e592c979b6f7880088aa2108cc"></a><!-- doxytag: member="alvar::Container3d::Limit" ref="a826226e592c979b6f7880088aa2108cc" args="(Test test)" -->
template&lt;typename Test &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">int&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a826226e592c979b6f7880088aa2108cc">Limit</a> (Test test)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Limit the search space with external limitation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2387033802383edbdc95f9bbb12a707e"></a><!-- doxytag: member="alvar::Container3d::begin" ref="a2387033802383edbdc95f9bbb12a707e" args="()" -->
<a class="el" href="classalvar_1_1_container3d_1_1_iterator.html">Iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a2387033802383edbdc95f9bbb12a707e">begin</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Provides an iterator pointing to the beginning of the limited/sorted 3D content. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab45dae688fc5d8983727abffa4389003"></a><!-- doxytag: member="alvar::Container3d::end" ref="ab45dae688fc5d8983727abffa4389003" args="()" -->
<a class="el" href="classalvar_1_1_container3d_1_1_iterator.html">Iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#ab45dae688fc5d8983727abffa4389003">end</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Provides an iterator pointing to the end of the limited/sorted 3D content. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac782da1f912bceb5d8ad00c8dc892ac"></a><!-- doxytag: member="alvar::Container3d::size" ref="aac782da1f912bceb5d8ad00c8dc892ac" args="() const " -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#aac782da1f912bceb5d8ad00c8dc892ac">size</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of items that can be referenced using <em><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1" title="Instead of Iterator we can use also absolute references for data with operator[]()...">operator[]()</a></em>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac109fa23d6b2d7f4d6c498b1845a970f"></a><!-- doxytag: member="alvar::Container3d::GetIndex" ref="ac109fa23d6b2d7f4d6c498b1845a970f" args="(Iterator &amp;iter)" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#ac109fa23d6b2d7f4d6c498b1845a970f">GetIndex</a> (<a class="el" href="classalvar_1_1_container3d_1_1_iterator.html">Iterator</a> &amp;iter)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get absolute reference usable with <em><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1" title="Instead of Iterator we can use also absolute references for data with operator[]()...">operator[]()</a></em> based on the iterator. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa356271bfee209d9ca688011ee9bdfd1"></a><!-- doxytag: member="alvar::Container3d::operator[]" ref="aa356271bfee209d9ca688011ee9bdfd1" args="(size_t index)" -->
<a class="el" href="classalvar_1_1_container3d.html#a0c256c1313be873da17a68f968d00e11">node_type</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1">operator[]</a> (size_t index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instead of <em><a class="el" href="classalvar_1_1_container3d_1_1_iterator.html" title="Iterator for going through the items in Container3d in the specified order.">Iterator</a></em> we can use also absolute references for data with <em><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1" title="Instead of Iterator we can use also absolute references for data with operator[]()...">operator[]()</a></em>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8a40932276018a7fda36e52b3b3080f"></a><!-- doxytag: member="alvar::Container3d::GetIndex" ref="ad8a40932276018a7fda36e52b3b3080f" args="(T *p)" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#ad8a40932276018a7fda36e52b3b3080f">GetIndex</a> (T *p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get absolute reference usable with <em><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1" title="Instead of Iterator we can use also absolute references for data with operator[]()...">operator[]()</a></em> based on the content. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0101b66fc18777e8265f233d2ff9ea8"></a><!-- doxytag: member="alvar::Container3d::data" ref="ad0101b66fc18777e8265f233d2ff9ea8" args="" -->
std::vector&lt; <a class="el" href="classalvar_1_1_container3d.html#a0c256c1313be873da17a68f968d00e11">node_type</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#ad0101b66fc18777e8265f233d2ff9ea8">data</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the actual data in using node_type: pair&lt;CvPoint3D32f, T&gt; <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a904f750bef8a655fc614a9b7555bac3b"></a><!-- doxytag: member="alvar::Container3d::search_space" ref="a904f750bef8a655fc614a9b7555bac3b" args="" -->
std::vector&lt; size_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalvar_1_1_container3d.html#a904f750bef8a655fc614a9b7555bac3b">search_space</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Possibly limited set of indices for <em>data</em> in somehow "optimal" search order. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class T&gt;<br/>
 class alvar::Container3d&lt; T &gt;</h3>

<p>Generic container to store any information in 3D (features, photos, ...). </p>
<p>You can store any information in 3D using this container. Each element in the container has an unique id that it can be referenced with using <em><a class="el" href="classalvar_1_1_container3d.html#aa356271bfee209d9ca688011ee9bdfd1" title="Instead of Iterator we can use also absolute references for data with operator[]()...">operator[]()</a></em>. The indices are from 0 to <em><a class="el" href="classalvar_1_1_container3d.html#aac782da1f912bceb5d8ad00c8dc892ac" title="Get number of items that can be referenced using operator[]().">size()</a></em>. You can find specific index using <em><a class="el" href="classalvar_1_1_container3d.html#ac109fa23d6b2d7f4d6c498b1845a970f" title="Get absolute reference usable with operator[]() based on the iterator.">GetIndex(Iterator &amp;iter)</a></em> or <em><a class="el" href="classalvar_1_1_container3d.html#ad8a40932276018a7fda36e52b3b3080f" title="Get absolute reference usable with operator[]() based on the content.">GetIndex(T *p)</a></em> .</p>
<p>In addition the <a class="el" href="classalvar_1_1_container3d.html" title="Generic container to store any information in 3D (features, photos, ...).">Container3d</a> contains also a 'search space' that can be iterated through using <em><a class="el" href="classalvar_1_1_container3d.html#a2387033802383edbdc95f9bbb12a707e" title="Provides an iterator pointing to the beginning of the limited/sorted 3D content.">begin()</a></em> and <em><a class="el" href="classalvar_1_1_container3d.html#ab45dae688fc5d8983727abffa4389003" title="Provides an iterator pointing to the end of the limited/sorted 3D content.">end()</a></em>. This 'search space' can be limited using <em><a class="el" href="classalvar_1_1_container3d.html#a826226e592c979b6f7880088aa2108cc" title="Limit the search space with external limitation.">Limit()</a></em> , sorted using <em><a class="el" href="classalvar_1_1_container3d.html#a41b5aecbac7e175890491df508f77a53" title="Sort using external Compare method.">Sort()</a></em> and reseted using <em><a class="el" href="classalvar_1_1_container3d.html#a8e401ed0d40cb96458d9aef7926a08e9" title="Reset the search space to contain whole data.">ResetSearchSpace()</a></em>. You specify what to limit/sort using specified functors. In ALVAR there exists functors <em><a class="el" href="classalvar_1_1_container3d_limit_dist.html" title="Functor class for Container3d Limit() to limit the search space with distance.">Container3dLimitDist</a></em> , <em><a class="el" href="classalvar_1_1_container3d_sort_size.html" title="Functor class for Container3d Sort() to sort the search base using content size.">Container3dSortSize</a></em> and <em><a class="el" href="classalvar_1_1_container3d_sort_dist.html" title="Functor class for Container3d Sort() to sort the search base using distance to specified...">Container3dSortDist</a></em> . But you can quite well make your own versions (see example below).</p>
<p>The implementation is optimized for a situation where there are a lot of searches between every time the search space is limited/ordered. This is the reason we use vector containers internally. The idea is that later we will improve the class by providing more ways for limiting and sorting the search space; for example Frustum culling.</p>
<p>Usage:</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
 <span class="keyword">class </span>Container3dSortX {
 <span class="keyword">protected</span>:
        Container3d&lt;T&gt; &amp;container;
 <span class="keyword">public</span>:
        Container3dSortX(Container3d&lt;T&gt; &amp;_container) : container(_container) {}
        <span class="keywordtype">bool</span> operator()(<span class="keywordtype">size_t</span> i1, <span class="keywordtype">size_t</span> i2)<span class="keyword"> const </span>{
                <span class="keywordflow">return</span> (container[i1].first.x &lt; container[i2].first.x);
        }
 };
 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
 <span class="keyword">class </span>Container3dLimitX {
 <span class="keyword">protected</span>:
        <span class="keywordtype">int</span> x_min, x_max;
        Container3d&lt;T&gt; &amp;container;
 <span class="keyword">public</span>:
        Container3dLimitX(Container3d&lt;T&gt; &amp;_container, <span class="keywordtype">int</span> _x_min, <span class="keywordtype">int</span> _x_max) 
        : container(_container),x_min(_x_min),x_max(_x_max) {}
        <span class="keywordtype">bool</span> operator()(<span class="keywordtype">size_t</span> i1)<span class="keyword"> const </span>{
                <span class="keywordflow">if</span> ((container[i1].first.x &gt;= x_min) &amp;&amp; (container[i1].first.x &lt;= x_max)) <span class="keywordflow">return</span> <span class="keyword">true</span>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
 };
 
 ...
 Container3d&lt;int&gt; c3d;
 c3d.Add(CvPoint3D32f(0,0,0), 0);
 c3d.Add(CvPoint3D32f(5,0,0), 1);
 c3d.Add(CvPoint3D32f(0,5,0), 2);
 c3d.Add(CvPoint3D32f(0,0,5), 3);
 c3d.Add(CvPoint3D32f(0,0,500), 4);
 c3d.Add(CvPoint3D32f(500,0,0), 5);
 c3d.Add(CvPoint3D32f(1,0,0), 6);
 c3d.Add(CvPoint3D32f(0,0,1), 7);
 Container3dSortX&lt;int&gt; sortx(c3d);
 Container3dLimitX&lt;int&gt; limitx(c3d, -10, 10);
 Container3dLimitDist&lt;int&gt; limit_dist(c3d, cvPoint3D32f(0,0,0), 10.0);
 c3d.ResetSearchSpace();                <span class="comment">// Search space: 0,1,2,3,4,5,6,7</span>
 c3d.Sort(sortx);                       <span class="comment">// Search space: 0,2,3,4,7,6,1,5</span>
 c3d.Limit(limitx);                     <span class="comment">// Search space: 0,2,3,4,7,6,1</span>
 c3d.Limit(limit_dist);                 <span class="comment">// Search space: 0,2,3,7,6,1</span>
 Container3d&lt;int&gt;::Iterator iter;
 <span class="keywordflow">for</span> (iter=c3d.begin(); iter != c3d.end(); ++iter) {
     cout&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;iter-&gt;second;
 }
</pre></div> 
<p>Definition at line <a class="el" href="_container3d_8h_source.html#l00166">166</a> of file <a class="el" href="_container3d_8h_source.html">Container3d.h</a>.</p>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_container3d_8h_source.html">Container3d.h</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue May 29 18:20:30 2012 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
